---
title: "320FinalProject"
authors: "Charles Bangert, Noah Tanenholtz, Ryan Dietz"
date: "5/9/2019"
output: 
  html_document:
    df_print: paged
    css: style.css
---
```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Final Project for CMSC320: Introduction to Data Science

# Summary
In lieu of a final exam, CMSC320 students will turn in a tutorial that will walk users through the entire data science pipeline: data curation, parsing, and management; exploratory data analysis; hypothesis testing and machine learning to provide analysis; and then the curation of a message or messages covering insights learned during the tutorial. Students may choose an application area and dataset(s) that are of interest to them; please feel free to be creative about this!

Remember, the course resources page has a number of data repositories from where you can download data. You could also create your own dataset using scraping skills you have learned in class. We in fact, encourage this.

The tutorial should be self-contained as an Rmarkdown document, and delivered as a GitHub statically-hosted Page (described below). You can see examples here: https://www.kaggle.com/kernels?sortBy=votes&group=everyone&pageSize=20&language=R

In general, the tutorial should contain at least 1500 words of prose and 150 lines of (nonpadded, legitimate) R code, along with appropriate documentation, visualization, and links to any external information that might help the reader.

#Setting up the libraries

```{r libraries, echo=TRUE, results='hide', warning=FALSE, message=FALSE}
library(tidyverse)
library(httr)  
library(jsonlite)
library(tidyr)
library(dplyr)
```
#Getting the data 

```{r data, echo=TRUE, warning=FALSE, message=FALSE}
csv <- read_csv("pergame_data.csv")  
pergame <- csv %>% as.data.frame()
pergame

csv <- read_csv("totals_data.csv")
totals <- csv %>% as.data.frame()
totals

csv <- read_csv("per36min.csv")
per36min <- csv %>% as.data.frame()
per36min

csv <- read_csv("per100poss.csv")
per100poss <- csv %>% as.data.frame()
per100poss

csv <- read_csv("advanced.csv")
advanced <- csv %>% as.data.frame()
advanced

```



#Basic Operations and tidying data

###To make the data column names more recognizable of what they mean, we are going to use some basic R operations to change the column names and even delete columns as a whole.


#####Below is a way of changing column names is very easy and useful if you are going to change all of the column names. You must change the names in the order that they appear in the data frame.


```{r basics}

names(pergame) <- c("rank", "player", "year_from", "year_to", "games_played", "games_stared", "min_played", "fg_made", "fg_attempt", "fg_percent", "3p_made", "3p_attempt", "3p_percent", "2p_made", "2p_attempt", "2p_percent", "eff_fg_percent", "ft_made", "ft_att", "ft_percent", "off_rebounds", "def_rebounds", "total_rebounds", "assists", "steals", "blocks", "turnovers", "fouls", "points")
pergame
```

#####Below is another way to change column names and is better to use when changing a few column names. You can change the column names in any order. However, it is a very repetive and unefficient way to change column names if you are changing all the names as shown above.

```{r basics2}
colnames(totals)[colnames(totals) == "Rk"] <- "rank"
colnames(totals)[colnames(totals) == "Player"] <- "player"
colnames(totals)[colnames(totals) == "From"] <- "year_from"
colnames(totals)[colnames(totals) == "To"] <- "year_to"
colnames(totals)[colnames(totals) == "G"] <- "games_played"
colnames(totals)[colnames(totals) == "GS"] <- "games_started"
colnames(totals)[colnames(totals) == "MP"] <- "min_played"
colnames(totals)[colnames(totals) == "FG"] <- "fg_made"
colnames(totals)[colnames(totals) == "FGA"] <- "fg_attempt"
colnames(totals)[colnames(totals) == "FG."] <- "fg_percent"
colnames(totals)[colnames(totals) == "X3P"] <- "3p_made"
colnames(totals)[colnames(totals) == "X3PA"] <- "3p_attempt"
colnames(totals)[colnames(totals) == "X3P."] <- "3p_percent"
colnames(totals)[colnames(totals) == "X2P"] <- "2p_made"
colnames(totals)[colnames(totals) == "X2PA"] <- "2p_attempt"
colnames(totals)[colnames(totals) == "X2P."] <- "2p_percent"
colnames(totals)[colnames(totals) == "eFG."] <- "eff_fg_percent"
colnames(totals)[colnames(totals) == "FT"] <- "ft_made"
colnames(totals)[colnames(totals) == "FTA"] <- "ft_attempt"
colnames(totals)[colnames(totals) == "FT."] <- "ft_percent"
colnames(totals)[colnames(totals) == "ORB"] <- "off_rebounds"
colnames(totals)[colnames(totals) == "DRB"] <- "def_rebounds"
colnames(totals)[colnames(totals) == "TRB"] <- "total_rebounds"
colnames(totals)[colnames(totals) == "AST"] <- "assists"
colnames(totals)[colnames(totals) == "STL"] <- "steals"
colnames(totals)[colnames(totals) == "BLK"] <- "blocks"
colnames(totals)[colnames(totals) == "TOV"] <- "turnovers"
colnames(totals)[colnames(totals) == "PF"] <- "fouls"
colnames(totals)[colnames(totals) == "POints"] <- "points"

totals
```

#####If you looked over all the data that was read in, in the previous step, then you should of noticed a blank column in the dataset of per100poss and advanced. We are going to show the steps needed to delete the blank columns and then change the column names for the two datasets.

```{r basics3}

names(per36min) <- c("rank", "player", "year_from", "year_to", "games_played", "games_stared", "min_played", "fg_made", "fg_attempt", "fg_percent", "3p_made", "3p_attempt", "3p_percent", "2p_made", "2p_attempt", "2p_percent", "ft_made", "ft_att", "ft_percent", "off_rebounds", "def_rebounds", "total_rebounds", "assists", "steals", "blocks", "turnovers", "fouls", "points")
per36min
```

#####We see that there is an error column in the per100poss data table named X29, you are going to need to know the column name to delete it. To delete the column, we set the error column to NULL.

```{r basics4}
per100poss$X29 <- NULL

names(per100poss) <- c("rank", "player", "year_from", "year_to", "games_played", "games_stared", "min_played", "fg_made", "fg_attempt", "fg_percent", "3p_made", "3p_attempt", "3p_percent", "2p_made", "2p_attempt", "2p_percent", "ft_made", "ft_att", "ft_percent", "off_rebounds", "def_rebounds", "total_rebounds", "assists", "steals", "blocks", "turnovers", "fouls", "points", "off_rating", "def_rating")
per100poss
```

#####We can also see that there are error columns in advanced data table named X19 and X24. You should also delete these columns by setting them to NULL.

```{r basics5}
advanced$X19 <- NULL
advanced$X24 <- NULL
 
names(advanced) <- c("rank", "player", "year_from", "year_to", "games_played", "min_played", "eff_rating", "true_shooting_percent", "3p_attempt_rate", "ft_attempt_rate", "off_rebound_percent", "def_rebound_percent", "total_rebound_percent", "assist_percent", "steal_percent", "block_percent", "turnover_percent", "usage_percent", "off_win_share", "def_win_share", "win_share", "ws_per48min", "off_plus_minus", "def_plus_minus", "plus_minus", "value_over_replace")
advanced

```



